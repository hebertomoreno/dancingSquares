<html>
	<head>
		<title>snap SVG</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="https://fonts.googleapis.com/css?family=Montserrat|Oswald" rel="stylesheet">
		<script src="snap/dist/snap.svg-min.js"></script>
	</head>
	<body>
		<script>
			/*var s = Snap(343,340)
			for(j=0;j<=400;j+=40) {
				for(i=0;i<=340;i+=41) {
					if (i%2 == 0) {
						console.log("i = ",i);
						console.log("circle!!");
						var bigCircle = s.circle(j,i,50);
						bigCircle.attr({
							fill: "#FF00FF",
							stroke: "#000",
							strokeWidth: 4
						});
						bigCircle.drag();
					}
					else {
						console.log("i = ",i);
						console.log("square!!");
						var bigSquare = s.rect(j,i,100,100);
						bigSquare.attr({
							fill: "#FF0000",
							stroke: "#000",
							strokeWidth: 1
						});
						bigSquare.transform("r20,j,i");
					}
				}
			}*/
			//var s = Snap(343,340);
			var s = Snap();
			var roti = 0;
			var roti2 = 3;
			var bigSquare;
			var squares = [0];
			cont = 0;
			function randColor() {
				var rgbR = Math.round(Math.random() * 255);
				var rgbR = rgbR.toString(16);
				var rgbG = Math.round(Math.random() * 255);
				var rgbG = rgbG.toString(16);
				var rgbB = Math.round(Math.random() * 255);
				var rgbB = rgbG.toString(16);
				return "#"+rgbR+rgbG+rgbB;
			}

			function animateIN() {
				for(i=0;i<squares.length;i++) {
					squares[i].stop().animate({
						transform:"R"+roti2+","+squares[i].i+","+squares[i].j,
						width:200,
						height:200
					},1000, function() {
						roti2+=11;
						animateOUT();

					});
				}
			}

			function animateOUT() {
				for(i=0;i<squares.length;i++) {
					squares[i].stop().animate({
						transform:"R"+roti2+","+squares[i].j+","+squares[i].i,
						width:0,
						height:0
					},1000,function() {
						roti2+=32;
						animateIN();
					});
				}
			}
			for(j=-20;j<=343;j+=60) {
				for(i=-20;i<=340;i+=60) {
					squares[cont] = s.rect(j,i,0,0);
					squares[cont].j = j;
					squares[cont].i = i;
					squares[cont].attr({
						//fill: randColor(),
						fill: "#D3E9FF",
						stroke: "#000",
						strokeWidth: 3
					});
					squares[cont].transform("r"+roti+",j,i");
					roti+=Math.random()*9;
					squares[cont].drag();
					cont++;
				}
			}
			console.log(squares[20]);
			animateIN();
			//animateOUT();

			/*for(j=-20;j<=1200;j+=51) {
				for(i=-20;i<=800;i+=31) {
					//bigSquare = s.rect(j,i,100,100);
					bigSquare = s.rect(j,i,0,0);
					var rgbR = Math.round(Math.random() * 255);
					var rgbR = rgbR.toString(16);
					var rgbG = Math.round(Math.random() * 255);
					var rgbG = rgbG.toString(16);
					var rgbB = Math.round(Math.random() * 255);
					var rgbB = rgbG.toString(16);
					var rgbFinal = "#"+rgbR+rgbG+rgbB;
					bigSquare.attr({
						fill: rgbFinal,
						stroke: "#000",
						strokeWidth: 1
					});
					bigSquare.animate({width:100,height:100},3000);
					bigSquare.transform("r"+roti+",j,i");
					roti+=45;
					bigSquare.drag();
					
					//bigSquare.animate({width:100,height:100},1000);
				}
			}*/
			//bigSquare.animate({width:50,height:50},1000);
		</script>
	</body>
</html>